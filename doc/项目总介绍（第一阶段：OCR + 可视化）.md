## 1. 背景

见习骑师在日常训练和生活中会记录大量手写或扫描表格，包括饮食日志、训练负荷、体重变化等数据。这些数据目前分散在纸质或图片文件中，不便于分析和追踪。  
为了支撑科研和训练管理，本项目旨在开发一个 **AI 驱动的数据数字化与可视化系统**，分阶段实施。

- **第一阶段**：聚焦 **OCR 数据提取** 与 **可视化展示**，实现数据数字化与趋势可视化。
    
- **后续阶段**：再扩展到营养估算、机器学习建模和预测分析。
    

---

## 2. 第一阶段目标

- 建立稳定的 **OCR 流水线**，将手写/打印表格转换为结构化数据。
    
- 实现 **数据可视化** 功能，为教练与骑师提供趋势分析与直观图表。
    
- 搭建一个可交互的 **前端界面**（例如基于 Streamlit）供用户上传文件、查看结果。
    

---

## 3. 需求分析

### 3.1 功能性需求

1. **文件上传与管理**
    
    - 支持上传 PDF / 图片（手写表格、饮食日志、训练记录）。
        
    - 允许批量上传，支持文件存档与管理。
        
2. **OCR 数据提取**
    
    - 使用 OCR 模块（Tesseract / Paddle深度学习模型）对手写和打印文字进行识别。
        
    - 提取关键字段（姓名、日期、饮食内容、训练负荷、睡眠数据）。
        
    - 支持正确率识别（需要GroundTruth）
        
3. **数据存储**
    
    - 将 OCR 结果保存为结构化数据（数据库或 CSV/JSON）[todo: 格式未定]。
        
    - 记录数据来源（文件名、页码、上传时间）。
        
    - 支持连接远程存储（需要配置API）
4. **可视化展示**
    
    - 生成交互式图表： 
        - 饮食模式
            
        - 训练负荷变化
            
        - 睡眠模式
    - 支持用户选择日期、个体/群体维度进行筛选。
        
    - 支持导出图表和报告（PDF/图片）。

---

### 3.2 非功能性需求

1. **可用性**
    
    - OCR 准确率 ≥ 85%
        
    - 前端界面简洁、可在 PC 与移动端访问。
        
2. **性能**
    
    - 仅作最小可能验证，不对性能做要求
	    
3. **扩展性**
    
    - 后续支持Agent主动探索数据，寻找见解。
        
    - OCR 模块拓展支持VLM。
        

---

## 4. 系统架构（第一阶段）

- **前端**：用户上传、正确率、图表展示（Streamlit）。
    
- **后端**：
    
    - 文件上传管理
        
    - OCR 模块（调用 Tesseract/Paddle深度学习模型）
        
    - 数据存储格式（CSV / JSON）
        
    - 可视化模块（Streamlit）
        

**业务流程**（语言化）：  
用户上传文件 → 系统校验格式 → OCR 提取表格内容 → 生成结构化数据 → 数据入库 → 可视化展示 → 用户查看/导出结果。

---

## 5. 第一阶段交付物

1. **OCR 流水线**：文件上传 → OCR 提取 → 数据存储。
    
2. **可视化仪表盘**：体重趋势、饮食分布、训练负荷变化等图表。
    
3. **用户界面**：文件上传、正确率、图表浏览。
    
4. **测试报告**：OCR 识别率、可视化展示效果。
    

---